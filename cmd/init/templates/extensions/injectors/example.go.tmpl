package injectors

import (
	"context"
	"time"

	"github.com/rendis/doc-assembly/core/sdk"
)

// ExampleInjector demonstrates how to create a custom injector.
// Replace this with your own business-specific injectors.
type ExampleInjector struct{}

func (e *ExampleInjector) Code() string { return "example_greeting" }

func (e *ExampleInjector) DataType() sdk.ValueType { return sdk.ValueTypeString }

func (e *ExampleInjector) DefaultValue() *sdk.InjectableValue { return nil }

func (e *ExampleInjector) Formats() *sdk.FormatConfig { return nil }

func (e *ExampleInjector) Resolve() (sdk.ResolveFunc, []string) {
	return func(ctx context.Context, injCtx *sdk.InjectorContext) (*sdk.InjectorResult, error) {
		return &sdk.InjectorResult{
			Value: sdk.StringValue("Hello from {{.ProjectName}}!"),
		}, nil
	}, nil
}

func (e *ExampleInjector) IsCritical() bool       { return false }
func (e *ExampleInjector) Timeout() time.Duration { return 0 }
